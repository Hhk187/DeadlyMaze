[gd_scene load_steps=17 format=3 uid="uid://d4g1cfhk2yv41"]

[ext_resource type="PackedScene" uid="uid://pvhh23krkm2x" path="res://Models/Player/Mixamo.glb" id="1_8ej7w"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayableCharacters/PlayerV2/player.gd" id="1_vlsma"]
[ext_resource type="Script" path="res://GlobalScripts/skeleton_ik_3d.gd" id="3_x63n4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nmxe5"]
radius = 0.2708
height = 1.77588

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oe82t"]
animation = &"walk"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u44se"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_trco2"]
animation = &"walk_strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v8gyf"]
animation = &"walk_strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bssx2"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6xjad"]
animation = &"run"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o2b5a"]
animation = &"run_strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w073x"]
animation = &"run_strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r3c1m"]
animation = &"run"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_o7s2d"]
blend_point_0/node = SubResource("AnimationNodeAnimation_oe82t")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_u44se")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_trco2")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_v8gyf")
blend_point_3/pos = Vector2(-1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_bssx2")
blend_point_4/pos = Vector2(0, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_6xjad")
blend_point_5/pos = Vector2(0, 2)
blend_point_6/node = SubResource("AnimationNodeAnimation_o2b5a")
blend_point_6/pos = Vector2(2, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_w073x")
blend_point_7/pos = Vector2(-2, 0)
blend_point_8/node = SubResource("AnimationNodeAnimation_r3c1m")
blend_point_8/pos = Vector2(0, -1.9)
min_space = Vector2(-2, -2)
max_space = Vector2(2, 2)
sync = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kwwqj"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_4pgkb"]
graph_offset = Vector2(-370.846, 110.698)
nodes/Walk/node = SubResource("AnimationNodeBlendSpace2D_o7s2d")
nodes/Walk/position = Vector2(-320, 240)
nodes/WalkTimeScale/node = SubResource("AnimationNodeTimeScale_kwwqj")
nodes/WalkTimeScale/position = Vector2(-140, 260)
nodes/output/position = Vector2(460, 420)
node_connections = [&"WalkTimeScale", 0, &"Walk", &"output", 0, &"WalkTimeScale"]

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_vlsma")
SPEED = 3.0

[node name="Neck" type="Node3D" parent="."]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 1.426, 0)

[node name="CameraPositions" type="Node3D" parent="Neck"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.426, 0)

[node name="FirstPerson" type="Marker3D" parent="Neck/CameraPositions"]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 3.72529e-09, 0, -3.72529e-09, 0.999999, 0, 1.62824, -0.251087)

[node name="ThirdPerson" type="Marker3D" parent="Neck/CameraPositions"]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0.739626, 1.4099, 1.69158)
metadata/_edit_lock_ = true

[node name="IKHead" type="Marker3D" parent="Neck"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 0.999999, 0, 8.74228e-08, 0, -0.999999, 0, 0.492593, -0.238683)

[node name="IKRightHand" type="Marker3D" parent="Neck"]
transform = Transform3D(-0.119513, -0.00289994, -0.992828, 0.992536, 0.0240836, -0.119548, 0.0242576, -0.999706, 1.40797e-09, 0.263403, -0.023542, -0.451456)

[node name="Item" type="Marker3D" parent="Neck/IKRightHand"]
transform = Transform3D(-5.98249e-08, 1, -4.47166e-08, 7.45058e-09, -4.1692e-08, -1, -1, -2.52804e-08, 7.45058e-09, 0.0222993, 0.203859, 0.0258478)

[node name="Camera3D" type="Camera3D" parent="Neck"]
transform = Transform3D(1, 0, 0, 0, 1, 1.86265e-09, 0, -1.86265e-09, 1, 0, 0.202236, -0.251088)
fov = 90.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.898954, 0)
visible = false
shape = SubResource("CapsuleShape3D_nmxe5")

[node name="Model" type="Node3D" parent="."]

[node name="Mixamo" parent="Model" instance=ExtResource("1_8ej7w")]

[node name="Skeleton3D" parent="Model/Mixamo/Armature" index="0"]
bones/0/position = Vector3(0.122179, 98.202, -4.07222e-05)
bones/0/rotation = Quaternion(0.00234902, 0.999685, -0.0171192, -0.0181929)
bones/1/rotation = Quaternion(-0.00913008, -0.0122879, -0.00512171, 0.99987)
bones/2/rotation = Quaternion(0.0220931, -0.024372, 0.00837883, 0.999424)
bones/3/rotation = Quaternion(0.0792894, -0.0235488, 0.0108354, 0.996515)
bones/3/scale = Vector3(1, 1, 1)
bones/4/position = Vector3(2.56278e-05, 15.0278, 0.877909)
bones/4/rotation = Quaternion(-0.000767506, 0.0191283, -0.000781316, 0.999816)
bones/5/rotation = Quaternion(-0.0302465, 0.0415477, -0.0175194, 0.998525)
bones/7/rotation = Quaternion(-0.566133, -0.454651, 0.556785, -0.403455)
bones/8/position = Vector3(-4.90906e-06, 12.9223, 1.01152e-05)
bones/8/rotation = Quaternion(0.449141, 0.214129, 0.242729, 0.832769)
bones/9/position = Vector3(1.07922e-05, 27.4047, 1.21161e-05)
bones/9/rotation = Quaternion(5.49234e-07, 6.11077e-08, 0.103815, 0.994597)
bones/10/rotation = Quaternion(0.079132, 0.0214082, -0.0296161, 0.996194)
bones/11/position = Vector3(-3.00298, 3.78882, 2.16717)
bones/11/rotation = Quaternion(0.169477, 0.00116768, 0.188886, 0.967263)
bones/12/position = Vector3(1.90734e-06, 4.74499, 1.24315e-05)
bones/12/rotation = Quaternion(-0.0444909, 0.0395074, -0.0929721, 0.993889)
bones/13/position = Vector3(-8.46386e-06, 4.38213, -2.11037e-05)
bones/13/rotation = Quaternion(-0.146874, 0.116875, 0.0579954, 0.980512)
bones/14/position = Vector3(-6.48699e-06, 3.45909, -1.57498e-06)
bones/14/rotation = Quaternion(0.00914622, 0.125637, 0.0720726, 0.989413)
bones/15/position = Vector3(-2.82204, 12.2666, 0.23182)
bones/15/rotation = Quaternion(0.162237, -0.0131775, 0.0338146, 0.986084)
bones/16/position = Vector3(-7.13212e-07, 3.89197, 2.47729e-06)
bones/16/rotation = Quaternion(0.131283, -9.6168e-07, -0.0134598, 0.991254)
bones/17/position = Vector3(8.8317e-07, 3.41516, 1.96787e-06)
bones/17/rotation = Quaternion(0.131285, -9.81724e-08, -0.0134537, 0.991253)
bones/18/position = Vector3(-2.16625e-06, 3.078, 6.67795e-07)
bones/19/position = Vector3(-1.23663e-05, 12.7755, -7.73613e-06)
bones/19/rotation = Quaternion(0.236798, -0.00511533, -0.0411135, 0.970675)
bones/20/position = Vector3(-7.22735e-06, 3.61397, 3.07168e-06)
bones/20/rotation = Quaternion(0.103653, -1.75038e-08, -0.0106221, 0.994557)
bones/21/position = Vector3(2.66436e-05, 3.45977, 1.31899e-06)
bones/21/rotation = Quaternion(0.120904, -5.18683e-08, -0.0123897, 0.992587)
bones/22/position = Vector3(-3.19367e-05, 3.68019, 5.87531e-06)
bones/22/rotation = Quaternion(-1.15038e-06, 0.00457943, -0.000654204, 0.999989)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(2.21664, 12.147, -0.00999557)
bones/23/rotation = Quaternion(0.24369, -0.000210075, -0.0618902, 0.967876)
bones/24/rotation = Quaternion(0.167757, -1.5062e-06, -0.0171993, 0.985678)
bones/25/position = Vector3(-3.7771e-06, 3.30732, 6.01362e-08)
bones/25/rotation = Quaternion(0.184816, 7.10968e-08, -0.018939, 0.982591)
bones/26/position = Vector3(-2.45235e-05, 3.66012, 1.42941e-05)
bones/26/rotation = Quaternion(8.89262e-06, 0.00739619, 0.00077043, 0.999972)
bones/26/scale = Vector3(1, 1, 1)
bones/27/position = Vector3(4.72583, 10.9082, 0.226135)
bones/27/rotation = Quaternion(0.293127, 0.000529288, -0.0774789, 0.952929)
bones/27/scale = Vector3(1, 1, 1)
bones/28/position = Vector3(1.02784e-06, 4.13665, 4.35021e-06)
bones/28/rotation = Quaternion(0.153402, -5.71416e-05, -0.0160844, 0.988033)
bones/28/scale = Vector3(1, 1, 1)
bones/29/position = Vector3(-1.02325e-06, 2.59483, 4.43433e-07)
bones/29/rotation = Quaternion(0.153412, 3.59949e-05, -0.0154931, 0.988041)
bones/30/position = Vector3(-6.69762e-07, 2.92387, 6.63132e-06)
bones/30/rotation = Quaternion(-2.85994e-06, 0.0040995, -0.000575381, 0.999991)
bones/31/rotation = Quaternion(0.547118, -0.46725, 0.585909, 0.372894)
bones/31/scale = Vector3(1, 1, 1)
bones/32/position = Vector3(5.97618e-06, 12.9223, -1.39547e-05)
bones/32/rotation = Quaternion(0.390269, -0.16376, -0.292449, 0.857524)
bones/33/rotation = Quaternion(2.34129e-07, 1.64389e-08, -0.192668, 0.981264)
bones/34/position = Vector3(1.79807e-05, 27.6144, -1.80801e-06)
bones/34/rotation = Quaternion(0.0573981, 0.0182682, 0.000238086, 0.998184)
bones/35/position = Vector3(3.00298, 3.78881, 2.16715)
bones/35/rotation = Quaternion(0.23937, -0.0470723, -0.172892, 0.954251)
bones/36/position = Vector3(1.44243e-05, 4.74495, -1.32137e-05)
bones/36/rotation = Quaternion(-0.0819144, -0.00494456, 0.167881, 0.982386)
bones/37/position = Vector3(-2.32459e-06, 4.38215, 1.52934e-05)
bones/37/rotation = Quaternion(-0.151672, 0.073672, -0.0447993, 0.984663)
bones/38/position = Vector3(1.57552e-05, 3.45907, -3.29036e-05)
bones/38/rotation = Quaternion(0.00923235, -0.127131, -0.0723283, 0.989202)
bones/39/position = Vector3(2.82204, 12.2666, 0.231839)
bones/39/rotation = Quaternion(0.18297, 0.0164165, -0.0383737, 0.982232)
bones/40/position = Vector3(-1.82373e-06, 3.89196, -5.74905e-06)
bones/40/rotation = Quaternion(0.20567, 9.10832e-07, 0.0167585, 0.978478)
bones/41/position = Vector3(-1.37985e-05, 3.41516, 9.62582e-08)
bones/41/rotation = Quaternion(0.0913633, 1.79799e-07, 0.0074426, 0.99579)
bones/42/rotation = Quaternion(-7.25756e-05, -0.0067093, 0.00137468, 0.999977)
bones/42/scale = Vector3(1, 1, 1)
bones/43/position = Vector3(1.84409e-05, 12.7755, 1.38695e-05)
bones/43/rotation = Quaternion(0.19389, 0.0101246, 0.0012093, 0.98097)
bones/44/position = Vector3(3.00602e-08, 3.61397, 8.35866e-07)
bones/44/rotation = Quaternion(0.303118, 1.92945e-07, 0.0246929, 0.952633)
bones/45/position = Vector3(-2.7621e-05, 3.45976, -1.58098e-06)
bones/45/rotation = Quaternion(0.178156, 1.72384e-07, 0.0145128, 0.983895)
bones/46/position = Vector3(2.67336e-05, 3.68019, -4.47518e-06)
bones/46/rotation = Quaternion(-5.0827e-05, -0.00669526, -0.00170826, 0.999976)
bones/47/position = Vector3(-2.21663, 12.147, -0.00998984)
bones/47/rotation = Quaternion(0.212948, 0.00721874, 0.021282, 0.976805)
bones/48/rotation = Quaternion(0.401217, 3.50737e-06, 0.0326916, 0.915399)
bones/49/position = Vector3(-4.81903e-06, 3.30731, 1.80673e-06)
bones/49/rotation = Quaternion(0.200063, 2.00754e-07, 0.0162976, 0.979648)
bones/50/position = Vector3(2.38609e-05, 3.66012, 1.15758e-05)
bones/50/rotation = Quaternion(-6.06525e-05, -0.00761333, -0.000300232, 0.999971)
bones/51/position = Vector3(-4.72583, 10.9082, 0.226142)
bones/51/rotation = Quaternion(0.253969, 0.0103175, 0.0275301, 0.966765)
bones/52/position = Vector3(-2.75772e-07, 4.13664, 2.91644e-06)
bones/52/rotation = Quaternion(0.246977, 2.721e-06, 0.0201296, 0.968812)
bones/53/position = Vector3(-5.96603e-07, 2.59483, 8.03823e-06)
bones/53/rotation = Quaternion(0.1381, -1.31209e-06, 0.0112394, 0.990355)
bones/54/position = Vector3(3.53326e-06, 2.92387, 6.56181e-06)
bones/54/rotation = Quaternion(-8.30176e-05, -0.00849887, 0.0022062, 0.999961)
bones/54/scale = Vector3(1, 1, 1)
bones/55/rotation = Quaternion(0.091242, 0.239935, 0.966194, -0.023982)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.519537, 0.038418, -0.0258683, 0.853192)
bones/57/rotation = Quaternion(0.526717, 0.00642788, 0.0113199, 0.849941)
bones/58/position = Vector3(-2.75521e-07, 15.7216, -9.90056e-07)
bones/58/rotation = Quaternion(0.305021, -0.0241558, -0.0113292, 0.951972)
bones/60/rotation = Quaternion(-0.0613901, 0.124867, 0.990172, -0.0141429)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(-0.201986, -0.0268003, -0.0183896, 0.978849)
bones/62/rotation = Quaternion(0.606063, -0.013152, -0.0265034, 0.794866)
bones/63/rotation = Quaternion(0.270593, 0.0319737, 0.0144428, 0.962054)
bones/63/scale = Vector3(1, 1, 1)

[node name="IKRightHand" type="SkeletonIK3D" parent="Model/Mixamo/Armature/Skeleton3D" index="2"]
visible = false
influence = 0.0
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
use_magnet = true
magnet = Vector3(70, 0, 0)
target_node = NodePath("../../../../../Neck/IKRightHand")
script = ExtResource("3_x63n4")

[node name="IKHead" type="SkeletonIK3D" parent="Model/Mixamo/Armature/Skeleton3D" index="3"]
visible = false
root_bone = &"mixamorig_Neck"
tip_bone = &"mixamorig_Head"
target_node = NodePath("../../../../../Neck/IKHead")
script = ExtResource("3_x63n4")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Model/Mixamo")
tree_root = SubResource("AnimationNodeBlendTree_4pgkb")
anim_player = NodePath("../Model/Mixamo/AnimationPlayer")
parameters/Walk/blend_position = Vector2(0, -1)
parameters/WalkTimeScale/scale = 1.5

[editable path="Model/Mixamo"]
