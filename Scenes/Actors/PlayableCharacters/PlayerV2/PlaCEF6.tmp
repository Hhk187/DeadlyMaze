[gd_scene load_steps=17 format=3 uid="uid://d4g1cfhk2yv41"]

[ext_resource type="PackedScene" uid="uid://pvhh23krkm2x" path="res://Models/Player/Mixamo.glb" id="1_8ej7w"]
[ext_resource type="Script" path="res://Scenes/Actors/PlayableCharacters/PlayerV2/player.gd" id="1_vlsma"]
[ext_resource type="Script" path="res://GlobalScripts/skeleton_ik_3d.gd" id="3_x63n4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nmxe5"]
radius = 0.2708
height = 1.77588

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oe82t"]
animation = &"walk"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u44se"]
animation = &"walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_trco2"]
animation = &"walk_strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v8gyf"]
animation = &"walk_strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bssx2"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6xjad"]
animation = &"run"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o2b5a"]
animation = &"run_strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_w073x"]
animation = &"run_strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r3c1m"]
animation = &"run"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_o7s2d"]
blend_point_0/node = SubResource("AnimationNodeAnimation_oe82t")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_u44se")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_trco2")
blend_point_2/pos = Vector2(1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_v8gyf")
blend_point_3/pos = Vector2(-1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_bssx2")
blend_point_4/pos = Vector2(0, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_6xjad")
blend_point_5/pos = Vector2(0, 2)
blend_point_6/node = SubResource("AnimationNodeAnimation_o2b5a")
blend_point_6/pos = Vector2(2, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_w073x")
blend_point_7/pos = Vector2(-2, 0)
blend_point_8/node = SubResource("AnimationNodeAnimation_r3c1m")
blend_point_8/pos = Vector2(0, -1.9)
min_space = Vector2(-2, -2)
max_space = Vector2(2, 2)
sync = true

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_kwwqj"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_4pgkb"]
graph_offset = Vector2(-370.846, 110.698)
nodes/Walk/node = SubResource("AnimationNodeBlendSpace2D_o7s2d")
nodes/Walk/position = Vector2(-320, 240)
nodes/WalkTimeScale/node = SubResource("AnimationNodeTimeScale_kwwqj")
nodes/WalkTimeScale/position = Vector2(-140, 260)
nodes/output/position = Vector2(460, 420)
node_connections = [&"WalkTimeScale", 0, &"Walk", &"output", 0, &"WalkTimeScale"]

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_vlsma")
SPEED = 3.0

[node name="Neck" type="Node3D" parent="."]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 1.426, 0)

[node name="CameraPositions" type="Node3D" parent="Neck"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.426, 0)

[node name="FirstPerson" type="Marker3D" parent="Neck/CameraPositions"]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 3.72529e-09, 0, -3.72529e-09, 0.999999, 0, 1.62824, -0.251087)

[node name="ThirdPerson" type="Marker3D" parent="Neck/CameraPositions"]
transform = Transform3D(0.999998, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0.739626, 1.4099, 1.69158)
metadata/_edit_lock_ = true

[node name="IKHead" type="Marker3D" parent="Neck"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 0.999999, 0, 8.74228e-08, 0, -0.999999, 0, 0.492593, -0.238683)

[node name="IKRightHand" type="Marker3D" parent="Neck"]
transform = Transform3D(-0.119513, -0.00289994, -0.992828, 0.992536, 0.0240836, -0.119548, 0.0242576, -0.999706, 1.40797e-09, 0.263403, -0.023542, -0.451456)

[node name="Item" type="Marker3D" parent="Neck/IKRightHand"]
transform = Transform3D(-5.98249e-08, 1, -4.47166e-08, 7.45058e-09, -4.1692e-08, -1, -1, -2.52804e-08, 7.45058e-09, 0.0222993, 0.203859, 0.0258478)

[node name="Camera3D" type="Camera3D" parent="Neck"]
transform = Transform3D(1, 0, 0, 0, 1, 1.86265e-09, 0, -1.86265e-09, 1, 0, 0.202236, -0.251088)
fov = 90.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.898954, 0)
visible = false
shape = SubResource("CapsuleShape3D_nmxe5")

[node name="Model" type="Node3D" parent="."]

[node name="Mixamo" parent="Model" instance=ExtResource("1_8ej7w")]

[node name="Skeleton3D" parent="Model/Mixamo/Armature" index="0"]
bones/0/position = Vector3(-1.42205, 94.2112, -4.49498e-05)
bones/0/rotation = Quaternion(-0.0294203, 0.998544, -0.0353429, 0.0282051)
bones/1/rotation = Quaternion(-0.0285293, 0.0323285, 0.0380107, 0.998347)
bones/2/rotation = Quaternion(0.0176298, 0.0127439, -0.0144431, 0.999659)
bones/3/rotation = Quaternion(0.074477, 0.0116592, -0.0150967, 0.99704)
bones/3/scale = Vector3(1, 1, 1)
bones/4/position = Vector3(2.56278e-05, 15.0278, 0.877909)
bones/4/rotation = Quaternion(-0.00279973, 0.000834559, 0.0097525, 0.999948)
bones/5/rotation = Quaternion(-0.0433802, 0.00735925, -0.0213634, 0.998803)
bones/7/rotation = Quaternion(-0.540622, -0.475383, 0.57239, -0.392566)
bones/8/position = Vector3(-4.90906e-06, 12.9223, 1.01152e-05)
bones/8/rotation = Quaternion(0.525237, 0.222495, 0.0549413, 0.819514)
bones/9/position = Vector3(1.07922e-05, 27.4047, 1.21161e-05)
bones/9/rotation = Quaternion(5.02698e-07, -1.70972e-07, 0.0613795, 0.998114)
bones/10/rotation = Quaternion(0.151426, 0.0226877, 0.0143149, 0.988104)
bones/11/position = Vector3(-3.00298, 3.78882, 2.16717)
bones/11/rotation = Quaternion(0.169477, 0.00116768, 0.188886, 0.967263)
bones/12/position = Vector3(1.90734e-06, 4.74499, 1.24315e-05)
bones/12/rotation = Quaternion(-0.0241048, 0.063148, -0.0817287, 0.99436)
bones/13/position = Vector3(-8.46386e-06, 4.38213, -2.11037e-05)
bones/13/rotation = Quaternion(-0.139868, 0.122267, 0.0811093, 0.979239)
bones/14/position = Vector3(-6.48699e-06, 3.45909, -1.57498e-06)
bones/14/rotation = Quaternion(0.00914622, 0.125637, 0.0720726, 0.989413)
bones/15/position = Vector3(-2.82204, 12.2666, 0.23182)
bones/15/rotation = Quaternion(0.189683, -0.0118724, 0.0188826, 0.981592)
bones/16/position = Vector3(-7.13212e-07, 3.89197, 2.47729e-06)
bones/16/rotation = Quaternion(0.130708, -8.69279e-07, -0.0134009, 0.99133)
bones/17/position = Vector3(8.8317e-07, 3.41516, 1.96787e-06)
bones/17/rotation = Quaternion(0.13071, -8.03069e-08, -0.0133947, 0.99133)
bones/18/position = Vector3(-2.16625e-06, 3.078, 6.67795e-07)
bones/19/position = Vector3(-1.23663e-05, 12.7755, -7.73613e-06)
bones/19/rotation = Quaternion(0.253929, -0.00438481, -0.0472299, 0.966059)
bones/20/position = Vector3(-7.22735e-06, 3.61397, 3.07168e-06)
bones/20/rotation = Quaternion(0.103393, -1.14472e-07, -0.0105954, 0.994584)
bones/21/position = Vector3(2.66436e-05, 3.45977, 1.31899e-06)
bones/21/rotation = Quaternion(0.120644, -5.342e-08, -0.012363, 0.992619)
bones/22/position = Vector3(-3.19367e-05, 3.68019, 5.87531e-06)
bones/22/rotation = Quaternion(-1.15038e-06, 0.00457943, -0.000654204, 0.999989)
bones/22/scale = Vector3(1, 1, 1)
bones/23/position = Vector3(2.21664, 12.147, -0.00999557)
bones/23/rotation = Quaternion(0.262399, 0.000447774, -0.0662504, 0.962683)
bones/24/rotation = Quaternion(0.166997, -1.58409e-06, -0.0171215, 0.985809)
bones/25/position = Vector3(-3.7771e-06, 3.30732, 6.01362e-08)
bones/25/rotation = Quaternion(0.184059, 1.78642e-07, -0.0188615, 0.982734)
bones/26/position = Vector3(-2.45235e-05, 3.66012, 1.42941e-05)
bones/26/rotation = Quaternion(8.89262e-06, 0.00739619, 0.00077043, 0.999972)
bones/26/scale = Vector3(1, 1, 1)
bones/27/position = Vector3(4.72583, 10.9082, 0.226135)
bones/27/rotation = Quaternion(0.300431, 0.000907671, -0.0793733, 0.950495)
bones/27/scale = Vector3(1, 1, 1)
bones/28/position = Vector3(1.02784e-06, 4.13665, 4.35021e-06)
bones/28/rotation = Quaternion(0.152607, -5.68331e-05, -0.016003, 0.988157)
bones/28/scale = Vector3(1, 1, 1)
bones/29/position = Vector3(-1.02325e-06, 2.59483, 4.43433e-07)
bones/29/rotation = Quaternion(0.152617, 3.57314e-05, -0.0154115, 0.988165)
bones/30/position = Vector3(-6.69762e-07, 2.92387, 6.63132e-06)
bones/30/rotation = Quaternion(-2.85994e-06, 0.0040995, -0.000575381, 0.999991)
bones/31/rotation = Quaternion(0.555837, -0.463319, 0.56223, 0.400346)
bones/31/scale = Vector3(1, 1, 1)
bones/32/position = Vector3(5.97618e-06, 12.9223, -1.39547e-05)
bones/32/rotation = Quaternion(0.261943, -0.141221, -0.378951, 0.876264)
bones/33/rotation = Quaternion(1.86049e-07, 1.07973e-07, -0.293902, 0.955836)
bones/34/position = Vector3(1.79807e-05, 27.6144, -1.80801e-06)
bones/34/rotation = Quaternion(0.0768499, -0.00286784, 0.0125215, 0.99696)
bones/35/position = Vector3(3.00298, 3.78881, 2.16715)
bones/35/rotation = Quaternion(0.23937, -0.0470723, -0.172892, 0.954251)
bones/36/position = Vector3(1.44243e-05, 4.74495, -1.32137e-05)
bones/36/rotation = Quaternion(-0.0690117, -0.0169327, 0.147773, 0.986465)
bones/37/position = Vector3(-2.32459e-06, 4.38215, 1.52934e-05)
bones/37/rotation = Quaternion(-0.151742, 0.0733121, -0.0460802, 0.98462)
bones/38/position = Vector3(1.57552e-05, 3.45907, -3.29036e-05)
bones/38/rotation = Quaternion(0.00923235, -0.127131, -0.0723283, 0.989202)
bones/39/position = Vector3(2.82204, 12.2666, 0.231839)
bones/39/rotation = Quaternion(0.212704, 0.0201074, -0.0398685, 0.976096)
bones/40/position = Vector3(-1.82373e-06, 3.89196, -5.74905e-06)
bones/40/rotation = Quaternion(0.204499, 1.00413e-06, 0.0166631, 0.978725)
bones/41/position = Vector3(-1.37985e-05, 3.41516, 9.62582e-08)
bones/41/rotation = Quaternion(0.0901679, 7.43096e-08, 0.0073453, 0.9959)
bones/42/rotation = Quaternion(-7.25756e-05, -0.0067093, 0.00137468, 0.999977)
bones/42/scale = Vector3(1, 1, 1)
bones/43/position = Vector3(1.84409e-05, 12.7755, 1.38695e-05)
bones/43/rotation = Quaternion(0.209684, 0.0112594, 0.00127917, 0.977704)
bones/44/position = Vector3(3.00602e-08, 3.61397, 8.35866e-07)
bones/44/rotation = Quaternion(0.305561, 1.65272e-07, 0.0248918, 0.951847)
bones/45/position = Vector3(-2.7621e-05, 3.45976, -1.58098e-06)
bones/45/rotation = Quaternion(0.180677, 1.09019e-07, 0.0147183, 0.983432)
bones/46/position = Vector3(2.67336e-05, 3.68019, -4.47518e-06)
bones/46/rotation = Quaternion(-5.0827e-05, -0.00669526, -0.00170826, 0.999976)
bones/47/position = Vector3(-2.21663, 12.147, -0.00998984)
bones/47/rotation = Quaternion(0.233275, 0.00960921, 0.0159266, 0.972233)
bones/48/rotation = Quaternion(0.401902, 3.41033e-06, 0.0327474, 0.915097)
bones/49/position = Vector3(-4.81903e-06, 3.30731, 1.80673e-06)
bones/49/rotation = Quaternion(0.200787, 1.98117e-07, 0.0163567, 0.979498)
bones/50/position = Vector3(2.38609e-05, 3.66012, 1.15758e-05)
bones/50/rotation = Quaternion(-6.06525e-05, -0.00761333, -0.000300232, 0.999971)
bones/51/position = Vector3(-4.72583, 10.9082, 0.226142)
bones/51/rotation = Quaternion(0.26845, 0.0200389, 0.00900946, 0.963043)
bones/52/position = Vector3(-2.75772e-07, 4.13664, 2.91644e-06)
bones/52/rotation = Quaternion(0.247767, 2.90351e-06, 0.0201938, 0.968609)
bones/53/position = Vector3(-5.96603e-07, 2.59483, 8.03823e-06)
bones/53/rotation = Quaternion(0.138459, -1.37635e-06, 0.0112687, 0.990304)
bones/54/position = Vector3(3.53326e-06, 2.92387, 6.56181e-06)
bones/54/rotation = Quaternion(-8.30176e-05, -0.00849887, 0.0022062, 0.999961)
bones/54/scale = Vector3(1, 1, 1)
bones/55/rotation = Quaternion(0.0449619, 0.34614, 0.936708, -0.0272838)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.0811545, -0.0228046, 0.0275709, 0.996059)
bones/57/rotation = Quaternion(0.599132, -0.0134612, -0.0132944, 0.800427)
bones/58/position = Vector3(-2.75521e-07, 15.7216, -9.90056e-07)
bones/58/rotation = Quaternion(0.296103, -0.0322491, -0.0140752, 0.954508)
bones/60/rotation = Quaternion(-0.116432, -0.0552578, 0.9916, -0.0109126)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(-0.158038, -0.0126749, -0.0197953, 0.987153)
bones/62/rotation = Quaternion(0.698748, -0.0949271, 0.0398939, 0.707918)
bones/63/rotation = Quaternion(0.283761, 0.0319158, 0.0141848, 0.958259)
bones/63/scale = Vector3(1, 1, 1)

[node name="IKRightHand" type="SkeletonIK3D" parent="Model/Mixamo/Armature/Skeleton3D" index="2"]
visible = false
influence = 0.0
root_bone = &"mixamorig_RightArm"
tip_bone = &"mixamorig_RightHand"
use_magnet = true
magnet = Vector3(70, 0, 0)
target_node = NodePath("../../../../../Neck/IKRightHand")
script = ExtResource("3_x63n4")

[node name="IKHead" type="SkeletonIK3D" parent="Model/Mixamo/Armature/Skeleton3D" index="3"]
visible = false
root_bone = &"mixamorig_Neck"
tip_bone = &"mixamorig_Head"
target_node = NodePath("../../../../../Neck/IKHead")
script = ExtResource("3_x63n4")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Model/Mixamo")
tree_root = SubResource("AnimationNodeBlendTree_4pgkb")
anim_player = NodePath("../Model/Mixamo/AnimationPlayer")
parameters/Walk/blend_position = Vector2(0, -1)
parameters/WalkTimeScale/scale = 1.5

[editable path="Model/Mixamo"]
